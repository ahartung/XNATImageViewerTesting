<!doctype html>
 
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>jQuery UI Slider - Slider scrollbar</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css" />
  <style>
  </style>
</head>
<body> 

</body>
<script src="./scripts/utils.js"></script>
<script src="./scripts/imageScans.js"></script>
<script src="./scripts/cSlider.js"></script>
<script src="./scripts/sliderScrollPane.js"></script>
<script src="./scripts/propertySliders.js"></script>
<script>
window.onload = function(){
	var args = {
	  	id: "sliderScroller",			//def "sliderScroller"
	  	parent: document.body,			//def document.body
	  	contents: imageScans,			//def []
	  	width: 400,						//def 500
	  	height: 30,					//def 200
	  	top: 50,						//def 0
	  	left: 50,						//def 0
	  	position: "absolute",			//def absolute
	  	handleHeight: 20,				//def 16
	  	handleWidth: 30,				//def 8
	  	constrainMargin: 3,				//def 3
	  	sliderBorderWidth: 3,			//def 1
	  	handleBorderWidth: 3,			//def 1
	  	sliderMin: 1,			//def 1
	  	sliderMax: imageScans.length,			//def 1
	  	handleBorderColor: "rgba(0,155,155,1)",			//def 1
	  	sliderBorderColor: "rgba(255,0,0,1)",			//def 1
	  	sliderBGColor: "rgba(0,0,255,.5)",			//def 1
	  	handleBGColor: "rgba(255,0,255,.5)",			//def 1
	  	orientation: "horizontal",			//def 1
	  	sliderBorderRadius: 5,			//def 1
	  	handleBorderRadius: 10,			//def 1
	  	step: 1,			//def 1
	  	startValue: Math.round(imageScans.length/2),
	  	showValueDisplay: true,
  	}
	//a = new jQueryScrollSlider(args);
	a = new skSlider(args);
	
	var args2 = mergeArgs(args, {
		id:"scroller2",
		top: 400,
		height: 400,
		width: 20,
		orientation: "vertical"	,
		constrainMargin: -20,
		handleWidth : 50,
		handleHeight : 40,
		handleBorderWidth: 3,			//def 1
		sliderBorderWidth: 3,			//def 1
	});
	
	b = new skSlider(args2)
	
	makePropertySliderSet("1", a, [		
		//["orientation", 0, 1, 1],
		["constrainMargin", 0, 40, 1, 5],		
		["sliderBorderWidth", 0, 20, 1, 6],
		["handleBorderWidth", 0, 20, 1, 6],	
		
		["top", 0, 1000, 1, 100],
		["left", 0, 1000, 1, 100],
		
		["height", 0, 500, 1, 40],
		["width", 0, 500, 1, 400],
		
		["handleHeight", 0, 500, 1, 20],
		["handleWidth", 0, 500, 1, 20],
		
		["sliderBorderRadius", 0, 20],
		["handleBorderRadius", 0, 20],
		
		["sliderBorderR", 0, 255],
		["sliderBorderG", 0, 255],
		["sliderBorderB", 0, 255],
		["sliderBorderA", 0, 1, .1],

	
		["handleBorderR", 0, 255],
		["handleBorderG", 0, 255],
		["handleBorderB", 0, 255],
		["handleBorderA", 0, 1, .1],
		
		["sliderBGColor_R", 0, 255],
		["sliderBGColor_G", 0, 255],
		["sliderBGColor_B", 0, 255],
		["sliderBGColor_A", 0, 1, .1],
		
		["handleBGColor_R", 0, 255],
		["handleBGColor_G", 0, 255],
		["handleBGColor_B", 0, 255],
		["handleBGColor_A", 0, 1, .1],
	]);
	b.restyle();
	 
  var canvas = document.createElement('canvas');
  canvas.setAttribute("id", "testCanvas");
  canvas.height = 300;
  canvas.width = 300;
  document.body.appendChild(canvas)
  canvas.style.position = "relative";
  canvas.style.left = _px(300);
  canvas.style.top = _px(200);
  var context = canvas.getContext('2d');
  var scan = new Array(imageScans.length);
  for (var i=imageScans.length;i>=0;i--){
  	var k = new Image();
  	k.onload = function() {
    	//context.drawImage(k, 0, 0, canvas.width, canvas.height);
   		if (i==0){
   			context.drawImage(a.args["startValue"], 0, 0, canvas.width, canvas.height);	
   		}
  	};
  	k.src = imageScans[i]
  	scan[i] = k;
  }
  
  a.addSliderFunction(function(_slider){
  		var subtractor = (_slider.args["sliderMin"] > 0) ? _slider.args["sliderMin"] : 0;
		context.drawImage(scan[_slider.currValue-subtractor], 0, 0, canvas.width, canvas.height);
  });
}
</script>
</html>